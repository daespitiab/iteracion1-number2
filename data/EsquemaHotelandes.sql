--- Sentencias SQL para la creaci�n del esquema de HOTEL ANDES
--- Las tablas tienen prefijo A_ para facilitar su acceso desde SQL Developer

-- USO
-- Copie el contenido de este archivo en una pesta�a SQL de SQL Developer
-- Ejec�telo como un script - Utilice el bot�n correspondiente de la pesta�a utilizada

-- Creaci�n del secuenciador
create sequence hotelandes_sequence;

-- Creaaci�n de la tabla HOTEL y especificaci�n de sus restricciones
CREATE TABLE A_HOTEL
   (ID NUMBER, 
	NOMBRE VARCHAR2(30 BYTE) UNIQUE, 
	CATEGORIA NUMBER CHECK( CATEGORIA >= 0),
	CADENA_HOTELERA VARCHAR2(50 BYTE),
	CONSTRAINT A_HOTEL_PK PRIMARY KEY (ID));
	
-- Creaaci�n de la tabla TIPO_HABITACION y especificaci�n de sus restricciones
CREATE TABLE A_TIPO_HABITACION
   (ID NUMBER, 
	NOMBRE VARCHAR2(20 BYTE) UNIQUE, 
	COSTO NUMBER CHECK( COSTO > 0),
	CONSTRAINT A_TIPO_HABITACION_PK PRIMARY KEY (ID));

-- Creaaci�n de la tabla ES_DE_TIPO y especificaci�n de sus restricciones
CREATE TABLE A_ES_DE_TIPO
   (DOTACION_HABITACION VARCHAR2(20 BYTE), 
	CAPACIDAD_HABITACION NUMBER CHECK( CAPACIDAD_HABITACION > 0),
	ID_TIPO NUMBER, 
	CONSTRAINT A_ES_DE_TIPO_PK PRIMARY KEY (DOTACION_HABITACION, CAPACIDAD_HABITACION));
	
ALTER TABLE A_ES_DE_TIPO
ADD CONSTRAINT fk_a_es_de_tipo
    FOREIGN KEY (id_tipo)
    REFERENCES a_tipo_habitacion(id)
ENABLE;
	
-- Creaaci�n de la tabla HABITACION y especificaci�n de sus restricciones
CREATE TABLE A_HABITACION 
   (NUMERO_HABITACION NUMBER,  
   	CAPACIDAD NUMBER CHECK( CAPACIDAD > 0),
   	DOTACION VARCHAR2(20 BYTE), 
	CONSTRAINT A_HABITACION_PK PRIMARY KEY (NUMERO_HABITACION));
	
ALTER TABLE A_HABITACION
ADD CONSTRAINT fk_a_capacidad_dotacion
    FOREIGN KEY (dotacion, capacidad)
    REFERENCES a_es_de_tipo(dotacion_habitacion, capacidad_habitacion)
ENABLE;

-- Creaaci�n de la tabla PISCINA y especificaci�n de sus restricciones
CREATE TABLE A_PISCINA
   (ID NUMBER, 
	CAPACIDAD NUMBER CHECK( CAPACIDAD > 0), 
	PROFUNDIDAD NUMBER CHECK( PROFUNDIDAD > 0), 
	HORA_INICIO VARCHAR2(20 BYTE),
    HORA_FIN VARCHAR2(20 BYTE), 
	COSTO NUMBER CHECK( COSTO > 0),
	INCLUIDO VARCHAR2(20 BYTE), 
	CONSTRAINT A_PISCINA_PK PRIMARY KEY (ID));
	
ALTER TABLE A_PISCINA
	ADD CONSTRAINT CK_INCLUIDO 
	CHECK (INCLUIDO IN ('Si', 'No'))
ENABLE;

-- Creaaci�n de la tabla GIMNASIO y especificaci�n de sus restricciones
CREATE TABLE A_GIMNASIO
   (ID NUMBER, 
	CAPACIDAD NUMBER, 
	COSTO NUMBER CHECK( COSTO > 0), 
	HORA_INICIO VARCHAR2(20 BYTE),
    HORA_FIN VARCHAR2(20 BYTE), 
	INCLUIDO VARCHAR2(20 BYTE),  
	CONSTRAINT A_GIMNASIO_PK PRIMARY KEY (ID));

ALTER TABLE A_GIMNASIO
	ADD CONSTRAINT CK_INCLUIDO_GIMNASIO
	CHECK (INCLUIDO IN ('Si', 'No'))
ENABLE;

-- Creaaci�n de la tabla INTERNET y especificaci�n de sus restricciones
CREATE TABLE A_INTERNET
   (ID NUMBER, 
	CAPACIDAD NUMBER CHECK( CAPACIDAD > 0), 
	COSTO NUMBER CHECK( COSTO > 0), 
	HORA_INICIO VARCHAR2(20 BYTE),
    HORA_FIN VARCHAR2(20 BYTE), 
	INCLUIDO VARCHAR2(20 BYTE),  
	CONSTRAINT A_INTERNET_PK PRIMARY KEY (ID));

ALTER TABLE A_INTERNET
	ADD CONSTRAINT CK_INCLUIDO_INTERNET
	CHECK (INCLUIDO IN ('Si', 'No'))
ENABLE;

-- Creaaci�n de la tabla TIPO_LAVANDERIA y especificaci�n de sus restricciones
CREATE TABLE A_TIPO_LAVANDERIA
   (TIPO_LAVANDERIA VARCHAR2(20 BYTE), 
	NUMERO_PRENDAS_LAVANDERIA NUMBER CHECK( NUMERO_PRENDAS_LAVANDERIA > 0), 
	COSTO NUMBER CHECK( COSTO > 0), 
	CONSTRAINT A_TIPO_LAVANDERIA_PK PRIMARY KEY (tipo_lavanderia, numero_prendas_lavanderia));
	
ALTER TABLE A_TIPO_LAVANDERIA
	ADD CONSTRAINT CK_TIPO_LAVANDERIA
	CHECK (TIPO_LAVANDERIA IN ('Lavado', 'Planchado', 'Embolado'))
ENABLE;

-- Creaaci�n de la tabla SERVICIO_LAVANDERIA y especificaci�n de sus restricciones
CREATE TABLE A_SERVICIO_LAVANDERIA
   (ID NUMBER, 
	TIPO VARCHAR2(20 BYTE), 
	NUMERO_PRENDAS NUMBER CHECK( NUMERO_PRENDAS > 0), 
	CONSTRAINT A_SERVICIO_LAVANDERIA_PK PRIMARY KEY (ID));

ALTER TABLE A_SERVICIO_LAVANDERIA
ADD CONSTRAINT fk_a_tipo_numero_prendas
    FOREIGN KEY (numero_prendas, tipo)
    REFERENCES a_tipo_lavanderia(numero_prendas_lavanderia, tipo_lavanderia)
ENABLE;

-- Creaaci�n de la tabla SPA y especificaci�n de sus restricciones
CREATE TABLE A_SPA
   (ID NUMBER, 
	NOMBRE VARCHAR2(50 BYTE) UNIQUE, 
	CAPACIDAD NUMBER CHECK( CAPACIDAD > 0), 
	CONSTRAINT A_SPA_PK PRIMARY KEY (ID));
	
-- Creaaci�n de la tabla SERVICIO_SPA y especificaci�n de sus restricciones
CREATE TABLE A_SERVICIO_SPA
   (ID NUMBER, 
	NOMBRE VARCHAR2(20 BYTE), 
	HORA_INICIO VARCHAR2(20 BYTE),
    HORA_FIN VARCHAR2(20 BYTE),
	COSTO NUMBER CHECK( COSTO > 0), 
	ID_SPA NUMBER,
	CONSTRAINT A_SERVICIO_SPA_PK PRIMARY KEY (ID));
	
ALTER TABLE A_SERVICIO_SPA
ADD CONSTRAINT fk_a_id_spa
    FOREIGN KEY (id_spa)
    REFERENCES a_spa(id)
ENABLE;
	
-- Creaaci�n de la tabla ESTADO_UTENCILIO y especificaci�n de sus restricciones
CREATE TABLE A_ESTADO_UTENCILIO
   (DEVUELTO_UTENCILIO VARCHAR2(20 BYTE),
	ESTADO_UTENCILIO VARCHAR2(20 BYTE),
	CARGAR_CONSUMO_UTENCILIO VARCHAR2(20 BYTE),
	CONSTRAINT A_ESTADO_UTENCILIO PRIMARY KEY (DEVUELTO_UTENCILIO, ESTADO_UTENCILIO));
	
ALTER TABLE A_ESTADO_UTENCILIO
	ADD CONSTRAINT CK_ESTADO_UTENCILIO
	CHECK (ESTADO_UTENCILIO IN ('Bien', 'Mal'))
ENABLE;

ALTER TABLE A_ESTADO_UTENCILIO
	ADD CONSTRAINT CK_UTENCILIO_DEVUELTO
	CHECK (DEVUELTO_UTENCILIO IN ('Si', 'No'))
ENABLE;

ALTER TABLE A_ESTADO_UTENCILIO
	ADD CONSTRAINT CK_CARGAR_CONSUMO
	CHECK (CARGAR_CONSUMO_UTENCILIO IN ('Si', 'No'))
ENABLE;

-- Creaaci�n de la tabla UTENCILIO y especificaci�n de sus restricciones
CREATE TABLE A_UTENCILIO
   (ID NUMBER, 
	NOMBRE VARCHAR2(20 BYTE), 
	COSTO NUMBER CHECK( COSTO > 0), 
	CONSTRAINT A_UTENCILIO PRIMARY KEY (ID));

-- Creaaci�n de la tabla TIPO_SALON y especificaci�n de sus restricciones
CREATE TABLE A_TIPO_SALON
   (ID NUMBER, 
	NOMBRE VARCHAR2(20 BYTE) UNIQUE, 
	HORAS_ADICIONALES NUMBER CHECK( HORAS_ADICIONALES > 0), 
	COSTO NUMBER CHECK( COSTO > 0), 
	CONSTRAINT A_TIPO_SALON PRIMARY KEY (ID));
	
ALTER TABLE A_TIPO_SALON
	ADD CONSTRAINT CK_A_TIPO_SALON
	CHECK (NOMBRE IN ('Reunion', 'Conferencia'))
ENABLE;

-- Creaaci�n de la tabla SALON y especificaci�n de sus restricciones
CREATE TABLE A_SALON
   (ID NUMBER, 
	NOMBRE VARCHAR2(20 BYTE) UNIQUE, 
	CAPACIDAD NUMBER CHECK( CAPACIDAD > 0), 
	ID_TIPO NUMBER, 
	CONSTRAINT A_SALON PRIMARY KEY (ID));
	
ALTER TABLE A_SALON
ADD CONSTRAINT fk_a_id_tipo_salon
    FOREIGN KEY (id_tipo)
    REFERENCES a_tipo_salon(id)
ENABLE;

-- Creaaci�n de la tabla SALON y especificaci�n de sus restricciones
CREATE TABLE A_SERVICIO_SALON
   (ID NUMBER, 
	NOMBRE VARCHAR2(20 BYTE),
	CARGAR_CONSUMO_SERVICIO_SALON VARCHAR2(20 BYTE),
	COSTO NUMBER CHECK( COSTO > 0), 
	ID_SALON NUMBER, 
	CONSTRAINT A_SERVICIO_SALON PRIMARY KEY (ID));
	
ALTER TABLE A_SERVICIO_SALON
ADD CONSTRAINT fk_a_id_salon
    FOREIGN KEY (id_salon)
    REFERENCES a_salon(id)
ENABLE;

-- Creaaci�n de la tabla BAR y especificaci�n de sus restricciones
CREATE TABLE A_BAR
   (ID NUMBER, 
	NOMBRE VARCHAR2(20 BYTE) UNIQUE,
	CAPACIDAD NUMBER CHECK(CAPACIDAD > 0), 
	ESTILO VARCHAR2(20 BYTE), 
	CONSTRAINT A_BAR PRIMARY KEY (ID));
	
-- Creaaci�n de la tabla PRODUCTO_BAR y especificaci�n de sus restricciones
CREATE TABLE A_PRODUCTO_BAR
   (ID NUMBER, 
	NOMBRE VARCHAR2(20 BYTE),
	COSTO NUMBER CHECK( COSTO > 0), 
	ID_BAR NUMBER,  
	CONSTRAINT A_PRODUCTO_BAR PRIMARY KEY (ID));
	
ALTER TABLE A_PRODUCTO_BAR
ADD CONSTRAINT fk_a_id_bar
    FOREIGN KEY (id_bar)
    REFERENCES a_bar(id)
ENABLE;

-- Creaaci�n de la tabla RESTAURANTE y especificaci�n de sus restricciones
CREATE TABLE A_RESTAURANTE
   (ID NUMBER, 
	NOMBRE VARCHAR2(20 BYTE) UNIQUE,
	CAPACIDAD NUMBER CHECK(CAPACIDAD > 0), 
	ESTILO VARCHAR2(20 BYTE), 
	CONSTRAINT A_RESTAURANTE PRIMARY KEY (ID));
	
-- Creaaci�n de la tabla PRODUCTO_RESTAURANTE y especificaci�n de sus restricciones
CREATE TABLE A_PRODUCTO_RESTAURANTE
   (ID NUMBER, 
	NOMBRE VARCHAR2(20 BYTE),
	COSTO NUMBER CHECK( COSTO > 0), 
	ID_RESTAURANTE NUMBER,  
	CONSTRAINT A_PRODUCTO_RESTAURANTE PRIMARY KEY (ID));
	
ALTER TABLE A_PRODUCTO_RESTAURANTE
ADD CONSTRAINT fk_a_id_restaurante
    FOREIGN KEY (id_restaurante)
    REFERENCES a_restaurante(id)
ENABLE;

-- Creaaci�n de la tabla SUPERMERCADO y especificaci�n de sus restricciones
CREATE TABLE A_SUPERMERCADO
   (ID NUMBER, 
	NOMBRE VARCHAR2(20 BYTE) UNIQUE,
	CONSTRAINT A_SUPERMERCADO PRIMARY KEY (ID));
	
-- Creaaci�n de la tabla ANAQUEL y especificaci�n de sus restricciones
CREATE TABLE A_ANAQUEL
   (ID NUMBER, 
	NOMBRE VARCHAR2(20 BYTE),
	ID_SUPERMERCADO NUMBER,
	CONSTRAINT A_ANAQUEL PRIMARY KEY (ID));
	
ALTER TABLE A_ANAQUEL
ADD CONSTRAINT fk_a_id_supermercado
    FOREIGN KEY (id_supermercado)
    REFERENCES a_supermercado(id)
ENABLE;

-- Creaaci�n de la tabla PRODUCTO_SUPERMERCADO y especificaci�n de sus restricciones
CREATE TABLE A_PRODUCTO_SUPERMERCADO
   (ID NUMBER, 
	NOMBRE VARCHAR2(20 BYTE),
	COSTO NUMBER CHECK(COSTO > 0), 
	ID_ANAQUEL NUMBER,  
	CONSTRAINT A_PRODUCTO_SUPERMERCADO PRIMARY KEY (ID));
	
ALTER TABLE A_PRODUCTO_SUPERMERCADO
ADD CONSTRAINT fk_a_id_anaquel
    FOREIGN KEY (id_anaquel)
    REFERENCES a_anaquel(id)
ENABLE;
	
-- Creaaci�n de la tabla TIENDA y especificaci�n de sus restricciones
CREATE TABLE A_TIENDA
   (ID NUMBER, 
	NOMBRE VARCHAR2(20 BYTE) UNIQUE,
	CONSTRAINT A_TIENDA PRIMARY KEY (ID));
	
-- Creaaci�n de la tabla PRODUCTO_TIENDA y especificaci�n de sus restricciones
CREATE TABLE A_PRODUCTO_TIENDA
   (ID NUMBER, 
	NOMBRE VARCHAR2(20 BYTE),
	COSTO NUMBER CHECK(COSTO > 0), 
	ID_TIENDA NUMBER,  
	CONSTRAINT A_PRODUCTO_TIENDA PRIMARY KEY (ID));
	
ALTER TABLE A_PRODUCTO_TIENDA
ADD CONSTRAINT fk_a_id_tienda
    FOREIGN KEY (id_tienda)
    REFERENCES a_tienda(id)
ENABLE;

-- Creaaci�n de la tabla CLIENTE y especificaci�n de sus restricciones
CREATE TABLE A_CLIENTE
   (TIPO_DOCUMENTO VARCHAR2(20 BYTE),
   	NUMERO_DOCUMENTO NUMBER, 
	NOMBRE VARCHAR2(20 BYTE),
	CORREO_ELECTRONICO VARCHAR2(255 BYTE) UNIQUE,
	CONSTRAINT A_CLIENTE PRIMARY KEY (TIPO_DOCUMENTO, NUMERO_DOCUMENTO));
	
-- Creaaci�n de la tabla RESERVA_CLIENTE y especificaci�n de sus restricciones
CREATE TABLE A_RESERVA_CLIENTE
   (ID NUMBER,
   	NUMERO_PERSONAS NUMBER CHECK(NUMERO_PERSONAS > 0), 
	FECHA_INICIO DATE,
	FECHA_FIN DATE,
	PLAN_PAGO VARCHAR2(255 BYTE),
	TIPO_ID_CLIENTE VARCHAR2(20 BYTE),
	ID_CLIENTE NUMBER,
	CONSTRAINT A_RESERVA_CLIENTE PRIMARY KEY (ID));
	
ALTER TABLE A_RESERVA_CLIENTE
ADD CONSTRAINT fk_a_id_cliente
    FOREIGN KEY (tipo_id_cliente, id_cliente)
    REFERENCES a_cliente(tipo_documento, numero_documento)
ENABLE;

-- Creaaci�n de la tabla RESERVA_HABITACION y especificaci�n de sus restricciones
CREATE TABLE A_RESERVA_HABITACION
   (ID_RESERVA NUMBER,
   	ID_HABITACION NUMBER, 
	CHECK_IN VARCHAR2(20 BYTE),
	CHECK_OUT VARCHAR2(20 BYTE),
	CONSTRAINT A_RESERVA_HABITACION PRIMARY KEY (ID_RESERVA, ID_HABITACION));
	
ALTER TABLE A_RESERVA_HABITACION
ADD CONSTRAINT fk_a_id_reserva_cliente
    FOREIGN KEY (id_reserva)
    REFERENCES a_reserva_cliente(id)
ENABLE;

ALTER TABLE A_RESERVA_HABITACION
ADD CONSTRAINT fk_a_id_habitacion
    FOREIGN KEY (id_habitacion)
    REFERENCES a_habitacion(numero_habitacion)
ENABLE;

ALTER TABLE A_RESERVA_HABITACION
	ADD CONSTRAINT CK_CHECK_IN
	CHECK (CHECK_IN IN ('Si', 'No'))
ENABLE;

ALTER TABLE A_RESERVA_HABITACION
	ADD CONSTRAINT CK_CHECK_OUT
	CHECK (CHECK_OUT IN ('Si', 'No'))
ENABLE;

-- Creaaci�n de la tabla CUENTA y especificaci�n de sus restricciones
CREATE TABLE A_CUENTA
   (ID NUMBER,
   	COSTO_TOTAL NUMBER CHECK(COSTO_TOTAL >= 0), 
	PAZ_Y_SALVO VARCHAR2(20 BYTE),
	ID_RESERVA_CLIENTE NUMBER,
	ID_HABITACION_RESERVA NUMBER,
	CONSTRAINT A_CUENTA PRIMARY KEY (ID));
	
ALTER TABLE A_CUENTA
	ADD CONSTRAINT CK_PAZ_Y_SALVO
	CHECK (PAZ_Y_SALVO IN ('Si', 'No'))
ENABLE;

ALTER TABLE A_CUENTA
ADD CONSTRAINT fk_a_id_reserva_habitacion
    FOREIGN KEY (id_reserva_cliente, id_habitacion_reserva)
    REFERENCES a_reserva_habitacion(id_reserva, id_habitacion)
ENABLE;
	
-- Creaaci�n de la tabla RECEPCIONISTA y especificaci�n de sus restricciones
CREATE TABLE A_RECEPCIONISTA
   (TIPO_DOCUMENTO VARCHAR2(20 BYTE),
   	NUMERO_DOCUMENTO NUMBER, 
	NOMBRE VARCHAR2(255 BYTE),
	CORREO_ELECTRONICO VARCHAR2(255 BYTE) UNIQUE,
	CONSTRAINT A_RECEPCIONISTA PRIMARY KEY (TIPO_DOCUMENTO, NUMERO_DOCUMENTO));
	
-- Creaaci�n de la tabla ADMINISTRADOR_DATOS y especificaci�n de sus restricciones
CREATE TABLE A_ADMINISTRADOR_DATOS
   (TIPO_DOCUMENTO VARCHAR2(20 BYTE),
   	NUMERO_DOCUMENTO NUMBER, 
	NOMBRE VARCHAR2(255 BYTE),
	CORREO_ELECTRONICO VARCHAR2(255 BYTE) UNIQUE,
	CONSTRAINT A_ADMINISTRADOR_DATOS PRIMARY KEY (TIPO_DOCUMENTO, NUMERO_DOCUMENTO));
	
-- Creaaci�n de la tabla ADMINISTRADOR_SISTEMA y especificaci�n de sus restricciones
CREATE TABLE A_ADMINISTRADOR_SISTEMA
   (TIPO_DOCUMENTO VARCHAR2(20 BYTE),
   	NUMERO_DOCUMENTO NUMBER, 
	NOMBRE VARCHAR2(255 BYTE),
	CORREO_ELECTRONICO VARCHAR2(255 BYTE) UNIQUE,
	CONSTRAINT A_ADMINISTRADOR_SISTEMA PRIMARY KEY (TIPO_DOCUMENTO, NUMERO_DOCUMENTO));
	
-- Creaaci�n de la tabla EMPLEADO y especificaci�n de sus restricciones
CREATE TABLE A_EMPLEADO
   (TIPO_DOCUMENTO VARCHAR2(20 BYTE),
   	NUMERO_DOCUMENTO NUMBER, 
	NOMBRE VARCHAR2(255 BYTE),
	CORREO_ELECTRONICO VARCHAR2(255 BYTE) UNIQUE,
	CONSTRAINT A_EMPLEADO PRIMARY KEY (TIPO_DOCUMENTO, NUMERO_DOCUMENTO));
	
-- Creaaci�n de la tabla GERENTE y especificaci�n de sus restricciones
CREATE TABLE A_GERENTE
   (TIPO_DOCUMENTO VARCHAR2(20 BYTE),
   	NUMERO_DOCUMENTO NUMBER, 
	NOMBRE VARCHAR2(255 BYTE),
	CORREO_ELECTRONICO VARCHAR2(255 BYTE) UNIQUE,
	CONSTRAINT A_GERENTE PRIMARY KEY (TIPO_DOCUMENTO, NUMERO_DOCUMENTO));
	
-- Creaaci�n de la tabla ROL_USUARIO y especificaci�n de sus restricciones
CREATE TABLE A_ROL_USUARIO
   (ID NUMBER, 
	NOMBRE VARCHAR2(30 BYTE) UNIQUE,
	CONSTRAINT A_ROL_USUARIO PRIMARY KEY (ID));

-- Creaaci�n de la tabla USUARIO y especificaci�n de sus restricciones
CREATE TABLE A_USUARIO
   (TIPO_DOCUMENTO VARCHAR2(20 BYTE),
   	NUMERO_DOCUMENTO NUMBER, 
	NOMBRE VARCHAR2(255 BYTE),
	CORREO_ELECTRONICO VARCHAR2(255 BYTE) UNIQUE,
	ID_ROL_USUARIO NUMBER,
	CONSTRAINT A_USUARIO PRIMARY KEY (TIPO_DOCUMENTO, NUMERO_DOCUMENTO));
	
ALTER TABLE A_USUARIO
ADD CONSTRAINT fk_a_rol_usuario
    FOREIGN KEY (id_rol_usuario)
    REFERENCES a_rol_usuario(id)
ENABLE;
	
-- Creaaci�n de la tabla PLAN_CONSUMO y especificaci�n de sus restricciones
CREATE TABLE A_PLAN_CONSUMO
   (ID NUMBER, 
	NOMBRE VARCHAR2(20 BYTE),
	PORCENTAJE_DESCUENTO NUMBER CHECK(PORCENTAJE_DESCUENTO >= 0),
	COSTO_FIJO NUMBER CHECK(COSTO_FIJO >= 0),
	FECHA_INICIO DATE,
	FECHA_FIN DATE,
	CONSTRAINT A_PLAN_CONSUMO PRIMARY KEY (ID));
	
-- Creaaci�n de la tabla PLAN_CONSUMO_RESERVA y especificaci�n de sus restricciones
CREATE TABLE A_PLAN_CONSUMO_RESERVA
   (ID_RESERVA_CLIENTE NUMBER, 
	ID_PLAN_CONSUMO NUMBER,
	CONSTRAINT A_PLAN_CONSUMO_RESERVA PRIMARY KEY (ID_RESERVA_CLIENTE, ID_PLAN_CONSUMO));
	
ALTER TABLE A_PLAN_CONSUMO_RESERVA
ADD CONSTRAINT fk_a_reserva_cliente
    FOREIGN KEY (id_reserva_cliente)
    REFERENCES a_reserva_cliente(id)
ENABLE;

ALTER TABLE A_PLAN_CONSUMO_RESERVA
ADD CONSTRAINT fk_a_id_plan_consumo
    FOREIGN KEY (id_plan_consumo)
    REFERENCES a_plan_consumo(id)
ENABLE;

	
-- Creaaci�n de la tabla INCLUIDO_EN_PLAN_BAR y especificaci�n de sus restricciones
CREATE TABLE A_INCLUIDO_EN_PLAN_BAR
   (ID_PRODUCTO_BAR NUMBER, 
	ID_PLAN_CONSUMO NUMBER,
	CONSTRAINT A_INCLUIDO_EN_PLAN_BAR PRIMARY KEY (ID_PRODUCTO_BAR, ID_PLAN_CONSUMO));
	
ALTER TABLE A_INCLUIDO_EN_PLAN_BAR
ADD CONSTRAINT fk_a_id_producto_bar
    FOREIGN KEY (id_producto_bar)
    REFERENCES a_producto_bar(id)
ENABLE;

ALTER TABLE A_INCLUIDO_EN_PLAN_BAR
ADD CONSTRAINT fk_a_id_plan_consumo_bar
    FOREIGN KEY (id_plan_consumo)
    REFERENCES a_plan_consumo(id)
ENABLE;

-- Creaaci�n de la tabla INCLUIDO_EN_PLAN_RESTAURANTE y especificaci�n de sus restricciones
CREATE TABLE A_INCLUIDO_EN_PLAN_RESTAURANTE
   (ID_PRODUCTO_RESTAURANTE NUMBER, 
	ID_PLAN_CONSUMO NUMBER,
	CONSTRAINT A_INCLUIDO_EN_PLAN_RESTAURANTE PRIMARY KEY (ID_PRODUCTO_RESTAURANTE, ID_PLAN_CONSUMO));
	
ALTER TABLE A_INCLUIDO_EN_PLAN_RESTAURANTE
ADD CONSTRAINT fk_a_id_producto_restaurante
    FOREIGN KEY (id_producto_restaurante)
    REFERENCES a_producto_restaurante(id)
ENABLE;

ALTER TABLE A_INCLUIDO_EN_PLAN_RESTAURANTE
ADD CONSTRAINT fk_a_id_plan_consumo_res
    FOREIGN KEY (id_plan_consumo)
    REFERENCES a_plan_consumo(id)
ENABLE;

-- Creaaci�n de la tabla CONSUMO_PISCINA y especificaci�n de sus restricciones
CREATE TABLE A_CONSUMO_PISCINA
   (ID_PISCINA NUMBER, 
	ID_CUENTA NUMBER,
	CONSTRAINT A_CONSUMO_PISCINA PRIMARY KEY (ID_PISCINA, ID_CUENTA));
	
ALTER TABLE A_CONSUMO_PISCINA
ADD CONSTRAINT fk_a_id_piscina
    FOREIGN KEY (id_piscina)
    REFERENCES a_piscina(id)
ENABLE;

ALTER TABLE A_CONSUMO_PISCINA
ADD CONSTRAINT fk_a_id_cuenta_piscina
    FOREIGN KEY (id_cuenta)
    REFERENCES a_cuenta(id)
ENABLE;

-- Creaaci�n de la tabla CONSUMO_GIMNASIO y especificaci�n de sus restricciones
CREATE TABLE A_CONSUMO_GIMNASIO
   (ID_GIMNASIO NUMBER, 
	ID_CUENTA NUMBER,
	CONSTRAINT A_CONSUMO_GIMNASIO PRIMARY KEY (ID_GIMNASIO, ID_CUENTA));
	
ALTER TABLE A_CONSUMO_GIMNASIO
ADD CONSTRAINT fk_a_id_gim
    FOREIGN KEY (id_gimnasio)
    REFERENCES a_gimnasio(id)
ENABLE;

ALTER TABLE A_CONSUMO_GIMNASIO
ADD CONSTRAINT fk_a_id_cuenta_gim
    FOREIGN KEY (id_cuenta)
    REFERENCES a_cuenta(id)
ENABLE;

-- Creaaci�n de la tabla CONSUMO_INTERNET y especificaci�n de sus restricciones
CREATE TABLE A_CONSUMO_INTERNET
   (ID_INTERNET NUMBER, 
	ID_CUENTA NUMBER,
	CONSTRAINT A_CONSUMO_INTERNET PRIMARY KEY (ID_INTERNET, ID_CUENTA));
	
ALTER TABLE A_CONSUMO_INTERNET
ADD CONSTRAINT fk_a_id_in
    FOREIGN KEY (id_internet)
    REFERENCES a_internet(id)
ENABLE;

ALTER TABLE A_CONSUMO_INTERNET
ADD CONSTRAINT fk_a_id_cuenta_in
    FOREIGN KEY (id_cuenta)
    REFERENCES a_cuenta(id)
ENABLE;

-- Creaaci�n de la tabla CONSUMO_LAVANDERIA y especificaci�n de sus restricciones
CREATE TABLE A_CONSUMO_LAVANDERIA
   (ID_SERVICIO_LAVANDERIA NUMBER, 
	ID_CUENTA NUMBER,
	CONSTRAINT A_CONSUMO_LAVANDERIA PRIMARY KEY (ID_SERVICIO_LAVANDERIA, ID_CUENTA));
	
ALTER TABLE A_CONSUMO_LAVANDERIA
ADD CONSTRAINT fk_a_id_lav
    FOREIGN KEY (id_servicio_lavanderia)
    REFERENCES a_servicio_lavanderia(id)
ENABLE;

ALTER TABLE A_CONSUMO_LAVANDERIA
ADD CONSTRAINT fk_a_id_cuenta_lav
    FOREIGN KEY (id_cuenta)
    REFERENCES a_cuenta(id)
ENABLE;

-- Creaaci�n de la tabla RESERVA_SERVICIO_SPA y especificaci�n de sus restricciones
CREATE TABLE A_RESERVA_SERVICIO_SPA
   (ID_SERVICIO_SPA NUMBER, 
	ID_CUENTA NUMBER,
	DIA DATE,
	HORA_INICIO VARCHAR2(20 BYTE),
	CARGAR_CONSUMO VARCHAR2(20 BYTE),
	CONSTRAINT A_RESERVA_SERVICIO_SPA PRIMARY KEY (ID_SERVICIO_SPA, ID_CUENTA, DIA, HORA_INICIO));
	
ALTER TABLE A_RESERVA_SERVICIO_SPA
ADD CONSTRAINT fk_a_id_serv_spa
    FOREIGN KEY (id_servicio_spa)
    REFERENCES a_servicio_spa(id)
ENABLE;

ALTER TABLE A_RESERVA_SERVICIO_SPA
ADD CONSTRAINT fk_a_id_cuenta_spa
    FOREIGN KEY (id_cuenta)
    REFERENCES a_cuenta(id)
ENABLE;

ALTER TABLE A_RESERVA_SERVICIO_SPA
	ADD CONSTRAINT CK_CARGAR_CONSUMO_SPA
	CHECK (CARGAR_CONSUMO IN ('Si', 'No'))
ENABLE;

-- Creaaci�n de la tabla PRESTAMO_UTENCILIO y especificaci�n de sus restricciones
CREATE TABLE A_PRESTAMO_UTENCILIO
   (ID_UTENCILIO NUMBER, 
	ID_CUENTA NUMBER,
	DEVUELTO VARCHAR2(20 BYTE),
	ESTADO VARCHAR2(20 BYTE),
	CONSTRAINT A_PRESTAMO_UTENCILIO PRIMARY KEY (ID_UTENCILIO, ID_CUENTA));
	
ALTER TABLE A_PRESTAMO_UTENCILIO
ADD CONSTRAINT fk_p_id_utencilio
    FOREIGN KEY (id_utencilio)
    REFERENCES a_utencilio(id)
ENABLE;

ALTER TABLE A_PRESTAMO_UTENCILIO
ADD CONSTRAINT fk_p_id_cuenta
    FOREIGN KEY (id_cuenta)
    REFERENCES a_cuenta(id)
ENABLE;

ALTER TABLE A_PRESTAMO_UTENCILIO
ADD CONSTRAINT fk_a_estado_devuelto_utencilio
    FOREIGN KEY (devuelto, estado)
    REFERENCES a_estado_utencilio(devuelto_utencilio, estado_utencilio)
ENABLE;

-- Creaaci�n de la tabla RESERVA_SALON y especificaci�n de sus restricciones
CREATE TABLE A_RESERVA_SALON
   (ID_SALON NUMBER, 
	ID_CUENTA NUMBER,
	DIA DATE,
	HORA_INICIO VARCHAR2(20 BYTE),
	HORA_FIN VARCHAR2(20 BYTE),
	CONSTRAINT A_RESERVA_SALON PRIMARY KEY (ID_SALON, ID_CUENTA, DIA, HORA_INICIO, HORA_FIN));
	
ALTER TABLE A_RESERVA_SALON
ADD CONSTRAINT fk_r_id_salon
    FOREIGN KEY (id_salon)
    REFERENCES a_salon(id)
ENABLE;

ALTER TABLE A_RESERVA_SALON
ADD CONSTRAINT fk_rs_id_cuenta
    FOREIGN KEY (id_cuenta)
    REFERENCES a_cuenta(id)
ENABLE;

-- Creaaci�n de la tabla CONSUMO_SERVICIO_SALON y especificaci�n de sus restricciones
CREATE TABLE A_CONSUMO_SERVICIO_SALON
   (ID_SERVICIO NUMBER, 
	ID_CUENTA NUMBER,
	CONSTRAINT A_CONSUMO_SERVICIO_SALON PRIMARY KEY (ID_SERVICIO, ID_CUENTA));
	
ALTER TABLE A_CONSUMO_SERVICIO_SALON
ADD CONSTRAINT fk_a_id_ss
    FOREIGN KEY (id_servicio)
    REFERENCES a_servicio_salon(id)
ENABLE;

ALTER TABLE A_CONSUMO_SERVICIO_SALON
ADD CONSTRAINT fk_ss_id_cuenta
    FOREIGN KEY (id_cuenta)
    REFERENCES a_cuenta(id)
ENABLE;

-- Creaaci�n de la tabla CONSUMO_BAR y especificaci�n de sus restricciones
CREATE TABLE A_CONSUMO_BAR
   (ID_PRODUCTO_BAR NUMBER, 
	ID_CUENTA NUMBER,
	CARGAR_CONSUMO VARCHAR2(20 BYTE),
	CONSTRAINT A_CONSUMO_BAR PRIMARY KEY (ID_PRODUCTO_BAR, ID_CUENTA));
	
ALTER TABLE A_CONSUMO_BAR
ADD CONSTRAINT fk_c_prod_bar
    FOREIGN KEY (id_producto_bar)
    REFERENCES a_producto_bar(id)
ENABLE;

ALTER TABLE A_CONSUMO_BAR
ADD CONSTRAINT fk_cb_id_cuenta
    FOREIGN KEY (id_cuenta)
    REFERENCES a_cuenta(id)
ENABLE;

ALTER TABLE A_CONSUMO_BAR
	ADD CONSTRAINT CK_CARGAR_CONSUMO_BAR
	CHECK (CARGAR_CONSUMO IN ('Si', 'No'))
ENABLE;

-- Creaaci�n de la tabla CONSUMO_RESTAURANTE y especificaci�n de sus restricciones
CREATE TABLE A_CONSUMO_RESTAURANTE
   (ID_PRODUCTO_RESTAURANTE NUMBER, 
	ID_CUENTA NUMBER,
	CARGAR_CONSUMO VARCHAR2(20 BYTE),
	CONSTRAINT A_CONSUMO_RESTAURANTE PRIMARY KEY (ID_PRODUCTO_RESTAURANTE, ID_CUENTA));
	
ALTER TABLE A_CONSUMO_RESTAURANTE
ADD CONSTRAINT fk_c_prod_res
    FOREIGN KEY (id_producto_restaurante)
    REFERENCES a_producto_restaurante(id)
ENABLE;

ALTER TABLE A_CONSUMO_RESTAURANTE
ADD CONSTRAINT fk_cr_id_cuenta
    FOREIGN KEY (id_cuenta)
    REFERENCES a_cuenta(id)
ENABLE;

ALTER TABLE A_CONSUMO_RESTAURANTE
	ADD CONSTRAINT CK_CARGAR_CONSUMO_RES
	CHECK (CARGAR_CONSUMO IN ('Si', 'No'))
ENABLE;

-- Creaaci�n de la tabla CONSUMO_SUPERMERCADO y especificaci�n de sus restricciones
CREATE TABLE A_CONSUMO_SUPERMERCADO
   (ID_PRODUCTO_SUPERMERCADO NUMBER, 
	ID_CUENTA NUMBER,
	CARGAR_CONSUMO VARCHAR2(20 BYTE),
	CONSTRAINT A_CONSUMO_SUPERMERCADO PRIMARY KEY (ID_PRODUCTO_SUPERMERCADO, ID_CUENTA));
	
ALTER TABLE A_CONSUMO_SUPERMERCADO
ADD CONSTRAINT fk_c_prod_sup
    FOREIGN KEY (id_producto_supermercado)
    REFERENCES a_producto_supermercado(id)
ENABLE;

ALTER TABLE A_CONSUMO_SUPERMERCADO
ADD CONSTRAINT fk_cs_id_cuenta
    FOREIGN KEY (id_cuenta)
    REFERENCES a_cuenta(id)
ENABLE;

ALTER TABLE A_CONSUMO_SUPERMERCADO
	ADD CONSTRAINT CK_CARGAR_CONSUMO_SUP
	CHECK (CARGAR_CONSUMO IN ('Si', 'No'))
ENABLE;

-- Creaaci�n de la tabla CONSUMO_TIENDA y especificaci�n de sus restricciones
CREATE TABLE A_CONSUMO_TIENDA
   (ID_PRODUCTO_TIENDA NUMBER, 
	ID_CUENTA NUMBER,
	CARGAR_CONSUMO VARCHAR2(20 BYTE),
	CONSTRAINT A_CONSUMO_TIENDA PRIMARY KEY (ID_PRODUCTO_TIENDA, ID_CUENTA));
	
ALTER TABLE A_CONSUMO_TIENDA
ADD CONSTRAINT fk_c_prod_t
    FOREIGN KEY (id_producto_tienda)
    REFERENCES a_producto_tienda(id)
ENABLE;

ALTER TABLE A_CONSUMO_TIENDA
ADD CONSTRAINT fk_ct_id_cuenta
    FOREIGN KEY (id_cuenta)
    REFERENCES a_cuenta(id)
ENABLE;

ALTER TABLE A_CONSUMO_TIENDA
	ADD CONSTRAINT CK_CARGAR_CONSUMO_T
	CHECK (CARGAR_CONSUMO IN ('Si', 'No'))
ENABLE;

COMMIT;
